@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Merriweather:ital,wght@0,400;0,700;1,400&family=VT323&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* LIGHT MODE - RETRO PAPER */
  --font-serif: 'Merriweather', serif;
  --font-display: 'Lora', serif;
  --font-mono: 'Fira Code', monospace;

  /* Paper tones */
  --background: 40 33% 92%;      /* #f3efe6 */
  --foreground: 240 4% 16%;      /* #28282b */
  
  --primary: 25 76% 31%;         /* #8b3a1a (Rust) */
  --primary-foreground: 36 100% 97%;
  
  --secondary: 35 20% 85%;       /* #e6e1d6 */
  --secondary-foreground: 240 4% 16%;
  
  --muted: 35 20% 80%;
  --muted-foreground: 25 10% 45%;
  
  --accent: 200 60% 35%;         /* #23648f (Faded Navy) */
  --accent-foreground: 36 100% 97%;
  
  --destructive: 0 84% 60%;
  --destructive-foreground: 210 40% 98%;

  --border: 25 10% 75%;
  --input: 25 10% 75%;
  --ring: 25 76% 31%;

  --radius: 0.25rem;
  
  /* Paper Texture Overlay Opacity */
  --grain-opacity: 0.4;
  --scanline-opacity: 0;
}

.dark {
  /* DARK MODE - RETRO TERMINAL */
  --font-serif: 'VT323', monospace;   /* Switch to pixel/terminal font for everything */
  --font-display: 'VT323', monospace;
  --font-mono: 'Fira Code', monospace;

  /* Phosphor tones */
  --background: 140 30% 5%;       /* #09110b (Deep dark green tint) */
  --foreground: 142 70% 60%;      /* #4af66f (Phosphor Green) */
  
  --primary: 142 70% 60%;         /* Phosphor Green */
  --primary-foreground: 140 30% 5%;
  
  --secondary: 140 30% 12%;
  --secondary-foreground: 142 60% 80%;
  
  --muted: 140 30% 15%;
  --muted-foreground: 142 40% 40%;
  
  --accent: 45 90% 60%;           /* Amber/Orange terminal accent */
  --accent-foreground: 140 30% 5%;
  
  --destructive: 0 90% 60%;
  --destructive-foreground: 0 0% 100%;

  --border: 142 40% 30%;
  --input: 142 40% 20%;
  --ring: 142 70% 60%;
  
  --grain-opacity: 0.1;
  --scanline-opacity: 0.15;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased transition-colors duration-500 ease-in-out;
    font-family: var(--font-serif);
  }
  
  /* Apply fonts based on mode via variables */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
  }
  
  code, pre, kbd {
    font-family: var(--font-mono);
  }
}

@layer components {
  /* Retro CRT/Scanline Effect for Dark Mode */
  .scanlines::before {
    content: " ";
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: linear-gradient(
      to bottom,
      rgba(18, 16, 16, 0) 50%,
      rgba(0, 0, 0, 0.25) 50%
    );
    background-size: 100% 4px;
    z-index: 9999;
    pointer-events: none;
    opacity: var(--scanline-opacity);
  }

  /* Paper Grain for Light Mode */
  .paper-texture::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    opacity: var(--grain-opacity);
    pointer-events: none;
    z-index: 9998;
    mix-blend-mode: multiply;
  }

  .text-glow {
    text-shadow: 0 0 5px hsl(var(--primary) / 0.5);
  }
  
  .border-double-retro {
    border-style: double;
    border-width: 4px;
  }
}
